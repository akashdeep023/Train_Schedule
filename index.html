<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Train Schedule</title>
		<style>
			body {
				padding: 0;
				margin: 0;
				height: 100vh;
				font-family: Arial, sans-serif;
				background-color: #f4f4f4;
			}
			.container {
				display: flex;
				background-color: white;
			}
			.heading {
				display: flex;
				align-items: center;
				justify-content: center;
				background-color: rgb(0, 0, 56);
				color: white;
				height: 90px;
				font-size: 24px;
				font-weight: 600;
				border-bottom: 10px solid white;
				position: fixed;
				width: 100%;
			}
			.heading img {
				width: 65px;
				height: 65px;
				margin-right: 10px;
				border-radius: 50px;
				position: absolute;
				left: 20px;
			}
			.sidebar {
				width: 20%;
				background-color: rgb(0, 0, 56);
				color: white;
				padding: 20px;
				display: flex;
				flex-direction: column;
				border-radius: 0 8px;
			}
			.sidebar h1 {
				font-size: 24px;
				font-weight: bold;
				margin-bottom: 20px;
			}
			.sidebar div {
				margin-bottom: 20px;
				display: flex;
				justify-content: space-between;
				align-items: center;
			}
			.sidebar button {
				width: 80%;
				background-color: rgb(0, 0, 56);
				border: 1px solid white;
				color: white;
				padding: 12px;
				margin-bottom: 10px;
				cursor: pointer;
				text-align: left;
				border-radius: 5px;
				transition: background-color 0.3s;
				font-weight: 600;
			}
			.sidebar button:hover {
				background-color: white;
				color: rgb(0, 0, 56);
			}
			.sidebar div button {
				background-color: transparent;
				border: none;
				color: white;
				cursor: pointer;
				font-size: 16px;
				height: 30px;
				width: 30px;
				display: flex;
				justify-content: center;
				align-items: center;
				padding: 0;
				border: 1px solid white;
			}
			.content {
				width: 75%;
				height: 100vh;
				overflow: hidden;
				padding: 0 20px;
				background-color: white;
				border-left: 1px solid #ddd;
			}
			.tab-content {
				display: none;
			}
			.tab-content.active {
				display: block;
			}
			.table {
				width: 100%;
				border-collapse: collapse;
			}
			.table th,
			.table td {
				border: 1px solid #ddd;
				padding: 8px;
				text-align: center;
			}
			.table th {
				background-color: #f4f4f4;
			}
			.table tr:nth-child(even) {
				background-color: #f9f9f9;
			}
			.table tr:hover {
				background-color: #f1f1f1;
			}
			.hidden {
				display: none;
			}

			.control-panel {
				background-color: rgb(0, 0, 56);
				color: #ecf0f1;
				padding: 20px;
				border-radius: 8px;
			}
			.control-panel h2 {
				margin-bottom: 20px;
				font-size: 24px;
			}
			.schedule-buttons {
				margin-top: 20px;
				display: flex;
				gap: 15px;
			}
			.schedule-buttons {
				background-color: #3498db;
				color: white;
				padding: 12px 20px;
				border: 1px solid rgb(0, 0, 56);
				border-radius: 5px;
				cursor: pointer;
				font-size: 16px;
				transition: background-color 0.3s;
				background-color: rgb(0, 0, 56);
			}
			.schedule-buttons:hover {
				background-color: white;
				color: rgb(0, 0, 56);
				border: 1px solid rgb(0, 0, 56);
			}
			.print-button {
				margin-top: 20px;
				padding: 12px 25px;
				background-color: #4caf50;
				color: white;
				border: none;
				border-radius: 5px;
				cursor: pointer;
				font-size: 16px;
				transition: background-color 0.3s;
			}
			.print-button:hover {
				background-color: #45a049;
			}
			video {
				width: 100%;
				/* height: 50vh; */
			}
			#date {
				margin-top: 20px;
				padding: 10px 25px;
				background-color: white;
				color: black;
				border: none;
				border-radius: 5px;
				cursor: pointer;
				font-size: 16px;
				transition: background-color 0.3s;
				width: 63% !important;
			}

			.sidebar {
				width: 20%;
				background-color: rgb(0, 0, 56);
				color: white;
				padding: 20px;
				display: flex;
				flex-direction: column;
				border-radius: 0 8px;
				position: fixed;
				left: 0;
				top: 90px; /* Below the heading */
				height: calc(100vh - 90px);
				transition: left 0.3s ease-in-out;
				margin-top: 10px;
			}

			.sidebar.collapsed {
				left: -19%;
			}

			.toggle-btn {
				position: absolute;
				left: 22%;
				top: 100px;
				background-color: rgb(0, 0, 56);
				border: 1px solid white;
				color: white;
				cursor: pointer;
				font-size: 18px;
				padding: 8px 12px;
				border-radius: 5px;
				transition: background-color 0.3s;
			}

			.toggle-btn:hover {
				background-color: white;
				color: rgb(0, 0, 56);
			}

			/* Hide toggle button when sidebar is open */
			.sidebar:not(.collapsed) + .toggle-btn {
				display: none;
			}
			.content {
				width: 80%;
				height: 100vh;
				overflow: hidden;
				padding: 0 20px;
				background-color: white;
				border-left: 1px solid #ddd;
				transition: width 0.3s ease-in-out;
				margin-left: 23%;
				margin-top: 100px;
			}

			.sidebar.collapsed + .content {
				width: 100%;
				margin-left: 10%;
			}
		</style>
	</head>
	<body>
		<div class="heading">
			<img src="image.png" alt="logo" />
			<h2>INTEGRATED RAILWAY INTELLIGENCE SYSTEM</h2>
		</div>
		<div class="container">
			<div class="sidebar">
				<div>
					<h1>Dashboard</h1>
					<button onclick="toggleSidebar()">â˜°</button>
				</div>

				<button onclick="showTab('Main')">Maintance Block</button>
				<button onclick="showTab('Puntuality')">
					Puntuality Report
				</button>
				<button onclick="showTab('Schedule')">Schedule Report</button>
				<input type="date" name="date" id="date" />
			</div>

			<div class="content">
				<!-- Main Tab (Control Panel) -->
				<div id="Main" class="tab-content">
					<div class="control-panel">
						<h2>Monitor Control Panel</h2>
						<video src="panel.mp4" autoplay loop muted></video>
					</div>
				</div>

				<!-- Schedule Tab -->
				<div id="Schedule" class="tab-content">
					<h2>Train Schedule</h2>
					<table class="table" id="trainTable">
						<thead>
							<tr>
								<th>Train No</th>
								<th>Train Name</th>
								<th>Departure</th>
								<th>Arrival</th>
								<th>Duration</th>
								<th>Key Stops</th>
							</tr>
						</thead>
						<tbody>
							<!-- Train data will be populated here -->
						</tbody>
					</table>
					<div>
						<button
							class="schedule-buttons"
							onclick="randomizeSchedule()"
						>
							Randomize Schedule
						</button>
						<button class="print-button" onclick="printSchedule()">
							Print Schedule
						</button>
					</div>
				</div>

				<div id="Puntuality" class="tab-content">
					<p class="text-center text-gray-600 text-lg">
						Content for Puntuality tab will be added soon.
					</p>
				</div>
			</div>
		</div>

		<script>
			function toggleSidebar() {
				const sidebar = document.querySelector(".sidebar");
				const content = document.querySelector(".content");
				sidebar.classList.toggle("collapsed");

				if (sidebar.classList.contains("collapsed")) {
					content.style.width = "95%";
					content.style.marginLeft = "5%";
				} else {
					content.style.width = "77%";
					content.style.marginLeft = "23%";
				}
			}

			const trainData = [
				{
					id: 12951,
					name: "Rajdhani Express",
					departure: "17:30",
					arrival: "09:50 (+1 day)",
					duration: "16h 20m",
					stops: "Kota, Vadodara, Surat",
				},
				{
					id: 12909,
					name: "Mumbai Mail",
					departure: "06:15",
					arrival: "23:55",
					duration: "17h 40m",
					stops: "Mathura, Ratlam, Ahmedabad, Vapi",
				},
				{
					id: 12009,
					name: "Shatabdi Express",
					departure: "06:00",
					arrival: "21:30",
					duration: "15h 30m",
					stops: "Jaipur, Ajmer, Udaipur, Surat",
				},
				{
					id: 22945,
					name: "Garib Rath",
					departure: "22:00",
					arrival: "14:30 (+1 day)",
					duration: "16h 30m",
					stops: "Agra, Jhansi, Bhopal, Nashik",
				},
				{
					id: 14567,
					name: "Freight Train (DFC)",
					departure: "00:00",
					arrival: "18:00",
					duration: "18h 00m",
					stops: "Dedicated Freight Corridor",
				},
			];

			function showTab(tabName) {
				const allTabs = document.querySelectorAll(".tab-content");
				allTabs.forEach((tab) => tab.classList.remove("active"));

				const activeTab = document.getElementById(tabName);
				activeTab.classList.add("active");

				if (tabName === "Schedule") {
					renderSchedule();
				}
			}

			function renderSchedule() {
				const tableBody = document.querySelector("#trainTable tbody");
				tableBody.innerHTML = "";

				trainData.forEach((train) => {
					const row = document.createElement("tr");
					row.innerHTML = `
          <td>${train.id}</td>
          <td>${train.name}</td>
          <td>${train.departure}</td>
          <td>${train.arrival}</td>
          <td>${train.duration}</td>
          <td>${train.stops}</td>
        `;
					tableBody.appendChild(row);
				});
			}

			function generateRandomTime() {
				const hours = String(Math.floor(Math.random() * 24)).padStart(
					2,
					"0"
				);
				const minutes = String(Math.floor(Math.random() * 60)).padStart(
					2,
					"0"
				);
				return `${hours}:${minutes}`;
			}

			function randomizeSchedule() {
				trainData.forEach((train) => {
					train.departure = generateRandomTime();
					train.arrival = generateRandomTime();
				});

				renderSchedule();
			}

			function printSchedule() {
				const printContent =
					document.getElementById("Schedule").innerHTML;
				const originalContent = document.body.innerHTML;

				document.body.innerHTML = printContent;
				window.print();
				document.body.innerHTML = originalContent;
				showTab("Schedule");
			}

			showTab("Main");
		</script>
	</body>
</html>
